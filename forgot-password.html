<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&family=Raleway:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- Header -->
    <header class="header">
        <div class="logo">
            <h1>Online Store</h1>
        </div>
    </header>

    <!-- Forgot Password Form -->
    <div class="forgot-password-container">
        <h2>Forgot Password</h2>
        <form id="forgotPasswordForm">
            <label for="email">Enter your email:</label>
            <input type="email" id="email" placeholder="Enter your registered email" required><br>
            <button type="submit" class="submit-btn">Send Verification Code</button>
        </form>
        <p>Remember your password? <a href="login.html">Login here</a></p>
    </div>

    <script>
        document.getElementById('forgotPasswordForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const email = document.getElementById('email').value;
            const users = JSON.parse(localStorage.getItem('users')) || [];

            // Check if the email exists in the system
            const user = users.find(user => user.email === email);

            if (user) {
                // Simulate sending the verification code to the user's email (backend integration needed here)
                const verificationCode = Math.floor(100000 + Math.random() * 900000); // Generate a 6-digit code
                alert(`A verification code has been sent to your email: ${verificationCode}`);

                // Store the code temporarily (this would be handled by the server in a real system)
                localStorage.setItem('verificationCode', verificationCode);
                localStorage.setItem('userEmail', email);

                // Redirect to verification page
                window.location.href = 'verify-code.html'; 
            } else {
                alert('No account found with this email address.');
            }
        });
    </script>

</body>
</html>
